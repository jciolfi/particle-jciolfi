<div class="user-details">
  <h1> Featured Projects </h1>
</div>
<div class="user-projects">
  <div class="images-right">
    <img alt="mountains" src="{{ "/assets/img/mountains.jpg" | prepend: site.baseurl }}" />
  </div>
  <div class="contents">
    <h3 id="title1"></h3>
    <ul>
        <li><i> Source Code:&nbsp;</i> <a id="src1"></a></li>
        <li id="tt1"><i> Tools & Technologies:&nbsp;</i></li>
    </ul>
    <p id="desc1"></p>
    <a class="project-link" href="#">Check it out</a>
  </div>
</div>
<div class="user-projects">
  <div class="images-left">
    <img alt="mountains" src="{{ "/assets/img/skate.jpg" | prepend: site.baseurl }}" />
  </div>
  <div class="contents-right">
    <h3 id="title2"></h3>
    <ul>
        <li><i> Source Code:&nbsp;</i> <a id="src2"></a></li>
        <li id="tt2"><i> Tools & Technologies:&nbsp;</i></li>
    </ul>
    <p id="desc2"></p>
    <a class="project-link" href="#">Check it out</a>
  </div>
</div>

<script>
    fetch('/assets/data/projects.json')
        .then(response => response.json())
        .then(data => {
            const projects = data.projects;
            for (let i = 0; i < projects.length; i++) {
                console.log(projects[i]);
                // populate title
                document.getElementById('title' + (i + 1)).textContent = projects[i].title;

                // populate source code link
                const srcElement = document.getElementById('src' + (i + 1));
                const srcLink = projects[i].src;
                srcElement.href = srcLink;
                srcElement.textContent = srcLink.replace('https://github.com/', '');

                // populate tools & tech
                const ttNode = document.createTextNode(projects[i].tt);
                document.getElementById('tt' + (i + 1)).appendChild(ttNode);

                // populate description
                document.getElementById('desc' + (i + 1)).textContent = projects[i].desc;
            }
        });
</script>
